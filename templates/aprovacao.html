<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aprovação</title>
  <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="logo">
        <img src="/static/logoclaro.png" alt="Logo Claro">
      </div>
      <nav class="nav-menu">
        <a href="/alocacao" class="nav-link">Alocação</a>
        <a href="/aprovacao" class="nav-link active">Aprovação</a>
        <a href="/login" class="nav-link">Logout</a>
      </nav>
    </div>

    <div class="filters-container">
      <div class="filter-row">
        <select id="gestor">
          <option>Gestor</option>
        </select>
        <select id="perfil">
          <option value="">Colaborador</option>
          <option value="Terceiro">Terceiro</option>
        </select>
        <input type="text" id="busca" placeholder="Busca" list="busca-list">
        <datalist id="busca-list"></datalist>
        <select id="mes-inicio">
          <option value="1">Janeiro</option>
          <option value="2">Fevereiro</option>
          <option value="3">Março</option>
          <option value="4">Abril</option>
          <option value="5">Maio</option>
          <option value="6">Junho</option>
          <option value="7">Julho</option>
          <option value="8">Agosto</option>
          <option value="9">Setembro</option>
          <option value="10">Outubro</option>
          <option value="11">Novembro</option>
          <option value="12">Dezembro</option>
        </select>
        <select id="mes-fim">
          <option value="1">Janeiro</option>
          <option value="2">Fevereiro</option>
          <option value="3">Março</option>
          <option value="4">Abril</option>
          <option value="5">Maio</option>
          <option value="6">Junho</option>
          <option value="7">Julho</option>
          <option value="8">Agosto</option>
          <option value="9">Setembro</option>
          <option value="10">Outubro</option>
          <option value="11">Novembro</option>
          <option value="12">Dezembro</option>
        </select>
        <select id="periodo">
          <option value="ano">Ano</option>
          <option value="trimestre">Trimestre</option>
        </select>
        <button class="action-btn" onclick="filtrar()">Filtrar</button>
        <button class="action-btn approve-selected" onclick="approveSelected()">Aprovar Selecionados</button>
        <button class="action-btn reject-selected" onclick="rejectSelected()">Reprovar Selecionados</button>
      </div>
    </div>

    <div class="hierarchy-container">
      <div class="hierarchy-control">
        Ordem Hierárquica:
        <select id="hierarchy-select" onchange="updateHierarchy()">
          <option value="0">Atividade > Colaborador > Projeto</option>
          <option value="1">Atividade > Projeto > Colaborador</option>
          <option value="2">Colaborador > Atividade > Projeto</option>
          <option value="3">Colaborador > Projeto > Atividade</option>
          <option value="4">Projeto > Atividade > Colaborador</option>
          <option value="5">Projeto > Colaborador > Atividade</option>
        </select>
        <div id="hierarchy-display"></div>
      </div>
    </div>

    <table id="approval-table">
      <thead>
        <tr>
          <th></th>
          <th>Item</th>
          <th>JAN</th>
          <th>FEV</th>
          <th>MAR</th>
          <th>ABR</th>
          <th>MAI</th>
          <th>JUN</th>
          <th>JUL</th>
          <th>AGO</th>
          <th>SET</th>
          <th>OUT</th>
          <th>NOV</th>
          <th>DEZ</th>
        </tr>
      </thead>
      <tbody id="approval-table-body"></tbody>
    </table>

    <div class="footer">
      <div class="footer-user">
        <span>Usuário: {{ username }}</span>
      </div>
      <div class="footer-right">
        <span class="counter" id="counter">0 células selecionadas</span>
      </div>
    </div>

    <div id="justificativa-modal" class="modal">
      <div class="modal-content">
        <h3>Justificativa de Reprovação</h3>
        <textarea id="justificativa-text" placeholder="Digite a justificativa para a reprovação"></textarea>
        <button onclick="submitJustificativa()">Confirmar</button>
        <button onclick="closeModal()">Cancelar</button>
      </div>
    </div>
  </div>
  <script src="/static/js/aprovacao.js"></script>
</body>
</html>
